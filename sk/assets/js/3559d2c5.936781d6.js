"use strict";(self.webpackChunkfei_jetracer_docs=self.webpackChunkfei_jetracer_docs||[]).push([[407],{476:(e,o,r)=>{r.d(o,{A:()=>n});const n=r.p+"assets/images/PID_params-85c38a8665c38289f99966636cf5bcd7.png"},1336:(e,o,r)=>{r.r(o),r.d(o,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>t,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"node-topics/node_topics","title":"Zobrazenie t\xe9m uzlov pomocou ROS","description":"Krok 1: Kontrola t\xe9m uzlov","source":"@site/i18n/sk/docusaurus-plugin-content-docs/current/node-topics/node_topics.md","sourceDirName":"node-topics","slug":"/node-topics/node_topics","permalink":"/FEI_jetracer/sk/docs/node-topics/node_topics","draft":false,"unlisted":false,"editUrl":"https://github.com/peter115342/FEI_jetracer/tree/main/fei-jetracer-docs/docs/node-topics/node_topics.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7},"sidebar":"tutorialSidebar","previous":{"title":"Ovl\xe1danie pohybu robota","permalink":"/FEI_jetracer/sk/docs/movement-control/movement_control"}}');var a=r(4848),i=r(8453);const t={sidebar_position:7},s="Zobrazenie t\xe9m uzlov pomocou ROS",l={},d=[{value:"Krok 1: Kontrola t\xe9m uzlov",id:"krok-1-kontrola-t\xe9m-uzlov",level:2},{value:"Krok 2: Zobrazenie d\xe1tovej vlny pomocou rqt-plot",id:"krok-2-zobrazenie-d\xe1tovej-vlny-pomocou-rqt-plot",level:2},{value:"Krok 3: \xdaprava PID parametrov cez rqt-reconfigure",id:"krok-3-\xfaprava-pid-parametrov-cez-rqt-reconfigure",level:2},{value:"Krok 4: Zobrazenie inform\xe1ci\xed o odometri robota pomocou n\xe1stroja RVIZ",id:"krok-4-zobrazenie-inform\xe1ci\xed-o-odometri-robota-pomocou-n\xe1stroja-rviz",level:2},{value:"Krok 5: Zobrazenie vz\u0165ahu s\xfaradn\xedc pomocou stromu TF",id:"krok-5-zobrazenie-vz\u0165ahu-s\xfaradn\xedc-pomocou-stromu-tf",level:2},{value:"Krok 6: Zobrazenie inform\xe1ci\xed o IMU robota pomocou n\xe1stroja RVIZ",id:"krok-6-zobrazenie-inform\xe1ci\xed-o-imu-robota-pomocou-n\xe1stroja-rviz",level:2},{value:"Rie\u0161enie probl\xe9mov",id:"rie\u0161enie-probl\xe9mov",level:2},{value:"Nie je mo\u017en\xe9 vidie\u0165 \u017eiadne t\xe9my",id:"nie-je-mo\u017en\xe9-vidie\u0165-\u017eiadne-t\xe9my",level:3},{value:"rqt_plot nezobrazuje \u017eiadne \xfadaje",id:"rqt_plot-nezobrazuje-\u017eiadne-\xfadaje",level:3},{value:"Probl\xe9my so zobrazen\xedm v RVIZ",id:"probl\xe9my-so-zobrazen\xedm-v-rviz",level:3},{value:"Referencie",id:"referencie",level:2}];function c(e){const o={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.header,{children:(0,a.jsx)(o.h1,{id:"zobrazenie-t\xe9m-uzlov-pomocou-ros",children:"Zobrazenie t\xe9m uzlov pomocou ROS"})}),"\n",(0,a.jsx)(o.h2,{id:"krok-1-kontrola-t\xe9m-uzlov",children:"Krok 1: Kontrola t\xe9m uzlov"}),"\n",(0,a.jsx)(o.p,{children:"Pripojte sa cez SSH k robotovi, otvorte termin\xe1l a zadajte nasleduj\xfaci pr\xedkaz na aktiv\xe1ciu uzla podvozku robota.\n\u3010Pozn\xe1mka: Uzol podvozku robota nem\xf4\u017ee by\u0165 opakovane re\u0161tartovan\xfd, inak d\xf4jde k chybe. Ak predch\xe1dzaj\xfaci uzol podvozku nebol zatvoren\xfd, nie je potrebn\xe9 ho re\u0161tartova\u0165.\u3011"}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-bash",children:"roslaunch jetracer jetracer.launch    #Spustenie uzla podvozku robota\n"})}),"\n",(0,a.jsx)(o.p,{children:"Otvorte termin\xe1l virtu\xe1lneho stroja Ubuntu a zadajte nasleduj\xfaci pr\xedkaz v termin\xe1li na zobrazenie t\xe9m uzla podvozku."}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-bash",children:"rostopic list\n"})}),"\n",(0,a.jsx)(o.p,{children:"Ak sa po spusten\xed k\xf3du zobraz\xed obsah zn\xe1zornen\xfd na obr\xe1zku ni\u017e\u0161ie, znamen\xe1 to, \u017ee komunik\xe1cia medzi viacer\xfdmi zariadeniami je \xfaspe\u0161n\xe1; ak sa ned\xe1 pripoji\u0165, skontrolujte, \u010di IP a n\xe1zov hostite\u013ea vo vy\u0161\u0161ie uveden\xfdch krokoch nie s\xfa nespr\xe1vne alebo \u010di s\xfa pripojen\xe9 k rovnakej WiFi."}),"\n",(0,a.jsx)(o.p,{children:"Medzi t\xe9my, ktor\xe9 by ste mali vidie\u0165, patria:"}),"\n",(0,a.jsxs)(o.ul,{children:["\n",(0,a.jsx)(o.li,{children:"/cmd_vel je t\xe9ma r\xfdchlosti pohybu robota a je ovl\xe1dan\xe1 samotn\xfdm robotom."}),"\n",(0,a.jsx)(o.li,{children:"/imu je t\xe9ma IMU robota."}),"\n",(0,a.jsx)(o.li,{children:"/motor/* t\xe9my indikuj\xfa skuto\u010dn\xfa k\xf3dovan\xfa r\xfdchlos\u0165 a nastavuj\xfa r\xfdchlos\u0165 \u013eav\xe9ho a prav\xe9ho motora."}),"\n",(0,a.jsx)(o.li,{children:"/odom k\xf3duje odometer pre robota."}),"\n",(0,a.jsx)(o.li,{children:"/odom_combined je f\xfazny odometer robota, ktor\xfd sa z\xedskava kombin\xe1ciou k\xf3dovan\xe9ho odometra s \xfadajmi IMU."}),"\n"]}),"\n",(0,a.jsx)(o.h2,{id:"krok-2-zobrazenie-d\xe1tovej-vlny-pomocou-rqt-plot",children:"Krok 2: Zobrazenie d\xe1tovej vlny pomocou rqt-plot"}),"\n",(0,a.jsx)(o.p,{children:"V termin\xe1li virtu\xe1lneho stroja m\xf4\u017eete spusti\u0165 nasleduj\xfaci pr\xedkaz na otvorenie n\xe1stroja na zobrazenie d\xe1tov\xfdch v\u013an."}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-bash",children:"rosrun rqt_plot rqt_plot\n"})}),"\n",(0,a.jsxs)(o.p,{children:["Zadajte t\xe9mu motora v /Topic a kliknite na + pre pridanie t\xe9my na zobrazenie d\xe1tovej vlny aktu\xe1lneho motora.\nPou\u017eite kl\xe1vesnicu alebo dia\u013ekov\xfd ovl\xe1da\u010d na ovl\xe1danie pohybu robota a sledujte zmeny krivky motora. \u3010Ke\u010f sa vyskytne probl\xe9m s prev\xe1dzkou motora, m\xf4\u017eete tie\u017e skontrolova\u0165, \u010di vlna nevykazuje abnormality.\u3011\n",(0,a.jsx)(o.img,{alt:"V\xfdstup uzla podvozku",src:r(4604).A+"",width:"1238",height:"639"})]}),"\n",(0,a.jsx)(o.p,{children:"V zobrazen\xed rqt_plot, /motor/lset a /motor/rset predstavuj\xfa k\xf3dovan\xfa r\xfdchlos\u0165 nastaven\xfa \u013eav\xfdm a prav\xfdm motorom, a /motor/lvel a /motor/rvel predstavuj\xfa k\xf3dovan\xfa r\xfdchlos\u0165 \u013eav\xe9ho a prav\xe9ho motora, ktor\xe1 skuto\u010dne be\u017e\xed. Toto k\xf3dovanie r\xfdchlosti ozna\u010duje po\u010det impulzov vydan\xfdch enk\xf3derom v jednom cykle."}),"\n",(0,a.jsx)(o.h2,{id:"krok-3-\xfaprava-pid-parametrov-cez-rqt-reconfigure",children:"Krok 3: \xdaprava PID parametrov cez rqt-reconfigure"}),"\n",(0,a.jsx)(o.p,{children:"V termin\xe1li virtu\xe1lneho m\xf4\u017eete spusti\u0165 nasleduj\xfaci pr\xedkaz na otvorenie n\xe1stroja na \xfapravu parametrov."}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-bash",children:"rosrun rqt_reconfigure rqt_reconfigure\n"})}),"\n",(0,a.jsx)(o.p,{children:(0,a.jsx)(o.img,{alt:"PID parametre",src:r(476).A+"",width:"741",height:"496"})}),"\n",(0,a.jsx)(o.p,{children:"V kontextovom okne kliknite na uzol PID na \u013eavej strane a PID parametre na pravej strane m\xf4\u017eete dynamicky upravova\u0165 pod\u013ea vlastn\xfdch preferenci\xed.\nl_p, l_i a l_d predstavuj\xfa PID parametre motora \u013eav\xe9ho kolesa a r_p, r_i a r_d predstavuj\xfa PID parametre motora prav\xe9ho kolesa.\nZvy\u010dajne nastavujeme P od ve\u013ek\xe9ho po mal\xe9."}),"\n",(0,a.jsx)(o.h2,{id:"krok-4-zobrazenie-inform\xe1ci\xed-o-odometri-robota-pomocou-n\xe1stroja-rviz",children:"Krok 4: Zobrazenie inform\xe1ci\xed o odometri robota pomocou n\xe1stroja RVIZ"}),"\n",(0,a.jsx)(o.p,{children:"V termin\xe1li virtu\xe1lneho stroja m\xf4\u017eete spusti\u0165 nasleduj\xfaci pr\xedkaz na otvorenie n\xe1stroja RVIZ."}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-bash",children:"rosrun rviz rviz\n"})}),"\n",(0,a.jsxs)(o.p,{children:["Kliknite na tla\u010didlo Add v \u013eavom dolnom rohu, vyberte TF a kliknite na OK pre pridanie t\xe9my TF.\n",(0,a.jsx)(o.img,{alt:"Rviz TF",src:r(9168).A+"",width:"800",height:"554"})]}),"\n",(0,a.jsxs)(o.p,{children:["Kliknite na Fixed Frame a vyberte 'odom', uvid\xedte tri s\xfaradnice TF, ovl\xe1dajte auto na pohyb dopredu a uvid\xedte, \u017ee s\xfaradnice base_footprint a base_imu_link sa tie\u017e s\xfa\u010dasne pohybuj\xfa.\nOdom mo\u017eno ch\xe1pa\u0165 ako p\xf4vodn\xfa polohu robota, base_footprint s\xfa s\xfaradnice robota a base_imu_link s\xfa s\xfaradnice IMU robota.\n",(0,a.jsx)(o.img,{alt:"Odom Fixed Frame",src:r(2944).A+"",width:"800",height:"654"})]}),"\n",(0,a.jsx)(o.p,{children:"Pozn\xe1mka: Ak sa s\xfaradnica base_footprint neust\xe1le ot\xe1\u010da, je to preto, \u017ee hlavn\xfd podvozok nebol pri spusten\xed v statickom stave na rovine a kalibra\u010dn\xe9 \xfadaje IMU s\xfa nepresn\xe9. Polo\u017ete auto na rovinu a neh\xfdbte n\xedm, potom stla\u010dte tla\u010didlo reset na re\u0161tartovanie hlavn\xe9ho podvozku, chv\xed\u013eu po\u010dkajte a potom spustite program uzla."}),"\n",(0,a.jsx)(o.h2,{id:"krok-5-zobrazenie-vz\u0165ahu-s\xfaradn\xedc-pomocou-stromu-tf",children:"Krok 5: Zobrazenie vz\u0165ahu s\xfaradn\xedc pomocou stromu TF"}),"\n",(0,a.jsx)(o.p,{children:"V termin\xe1li virtu\xe1lneho stroja m\xf4\u017eete spusti\u0165 nasleduj\xfaci pr\xedkaz na otvorenie n\xe1strojov na vizualiz\xe1ciu vz\u0165ahu TF."}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-bash",children:"rosrun rqt_tf_tree rqt_tf_tree\n"})}),"\n",(0,a.jsx)(o.p,{children:(0,a.jsx)(o.img,{alt:"Vz\u0165ah s\xfaradn\xedc v strome TF",src:r(6339).A+"",width:"474",height:"526"})}),"\n",(0,a.jsx)(o.p,{children:"Kliknite na tla\u010didlo Refresh na \u013eavej strane pre zobrazenie stromu vz\u0165ahov TF robota.\nZ toho m\xf4\u017eeme vidie\u0165, \u017ee vz\u0165ah s\xfaradnicov\xfdch syst\xe9mov robota je map->odom->base_link, pri\u010dom map je s\xfaradnicov\xfd syst\xe9m mapy, odom je s\xfaradnicov\xfd syst\xe9m odometra publikovan\xfd robotom a base_link je referen\u010dn\xfd s\xfaradnicov\xfd syst\xe9m robota."}),"\n",(0,a.jsx)(o.h2,{id:"krok-6-zobrazenie-inform\xe1ci\xed-o-imu-robota-pomocou-n\xe1stroja-rviz",children:"Krok 6: Zobrazenie inform\xe1ci\xed o IMU robota pomocou n\xe1stroja RVIZ"}),"\n",(0,a.jsx)(o.p,{children:"V termin\xe1li virtu\xe1lneho stroja m\xf4\u017eete spusti\u0165 nasleduj\xfaci pr\xedkaz na otvorenie n\xe1stroja RVIZ."}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-bash",children:"rosrun rviz rviz\n"})}),"\n",(0,a.jsxs)(o.p,{children:["Kliknite na tla\u010didlo Add v \u013eavom dolnom rohu, vyberte Imu a kliknite na OK pre pridanie t\xe9my IMU.\n",(0,a.jsx)(o.img,{alt:"IMU zobrazenie v Rviz",src:r(2407).A+"",width:"800",height:"553"})]}),"\n",(0,a.jsxs)(o.p,{children:['Teraz m\xf4\u017eete prida\u0165 polo\u017eku zobrazenia, prida\u0165 Axes a nastavi\u0165 referen\u010dn\xfd r\xe1mec na imu_link.\nImu Topic vyberte "/imu" na zobrazenie inform\xe1ci\xed o IMU, vyberte Enable box na zobrazenie box a za\u0161krtnite Enable axes na zobrazenie s\xfaradn\xedc. Za\u0161krtnite Enable acceleration na zobrazenie \u0161\xedpky. Nastavte Acc. vector scale na 0,2 na minimaliz\xe1ciu \u0161\xedpky.\n',(0,a.jsx)(o.img,{alt:"IMU box zobrazenie v Rviz",src:r(9605).A+"",width:"800",height:"498"})]}),"\n",(0,a.jsx)(o.p,{children:"Oto\u010dte auto a box sa tie\u017e oto\u010d\xed."}),"\n",(0,a.jsx)(o.h2,{id:"rie\u0161enie-probl\xe9mov",children:"Rie\u0161enie probl\xe9mov"}),"\n",(0,a.jsx)(o.h3,{id:"nie-je-mo\u017en\xe9-vidie\u0165-\u017eiadne-t\xe9my",children:"Nie je mo\u017en\xe9 vidie\u0165 \u017eiadne t\xe9my"}),"\n",(0,a.jsxs)(o.ol,{children:["\n",(0,a.jsx)(o.li,{children:"Overte, \u010di na Jetson Nano be\u017e\xed hlavn\xfd uzol ROS"}),"\n",(0,a.jsx)(o.li,{children:"Skontrolujte sie\u0165ov\xe9 pripojenie medzi VM a Jetson Nano"}),"\n",(0,a.jsx)(o.li,{children:"Potvr\u010fte, \u017ee premenn\xe9 prostredia ROS s\xfa spr\xe1vne nastaven\xe9"}),"\n"]}),"\n",(0,a.jsx)(o.h3,{id:"rqt_plot-nezobrazuje-\u017eiadne-\xfadaje",children:"rqt_plot nezobrazuje \u017eiadne \xfadaje"}),"\n",(0,a.jsxs)(o.ol,{children:["\n",(0,a.jsx)(o.li,{children:"Uistite sa, \u017ee je vybran\xe1 spr\xe1vna t\xe9ma"}),"\n",(0,a.jsx)(o.li,{children:"Overte, \u010di be\u017e\xed uzol podvozku robota"}),"\n",(0,a.jsx)(o.li,{children:"Skontrolujte, \u010di s\xfa senzory spr\xe1vne pripojen\xe9 a funguj\xfa"}),"\n"]}),"\n",(0,a.jsx)(o.h3,{id:"probl\xe9my-so-zobrazen\xedm-v-rviz",children:"Probl\xe9my so zobrazen\xedm v RVIZ"}),"\n",(0,a.jsxs)(o.ol,{children:["\n",(0,a.jsx)(o.li,{children:"Uistite sa, \u017ee ste vybrali spr\xe1vny pevn\xfd r\xe1mec"}),"\n",(0,a.jsx)(o.li,{children:"Skontrolujte, \u010di sa transform\xe1cie spr\xe1vne publikuj\xfa"}),"\n",(0,a.jsx)(o.li,{children:"Overte, \u010di form\xe1t \xfadajov t\xe9my zodpoved\xe1 o\u010dak\xe1vaniam vizualiza\u010dn\xe9ho n\xe1stroja"}),"\n"]}),"\n",(0,a.jsx)(o.h2,{id:"referencie",children:"Referencie"}),"\n",(0,a.jsxs)(o.p,{children:["Pre podrobnej\u0161ie pokyny si pozrite ",(0,a.jsx)(o.a,{href:"https://www.waveshare.com/wiki/JetRacer_ROS_AI_Kit_Tutorial_VI:_View_Node_Topics_With_ROS",children:"ofici\xe1lny n\xe1vod Waveshare JetRacer ROS AI Kit Tutorial VI: Zobrazenie t\xe9m uzlov pomocou ROS"}),"."]})]})}function p(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,a.jsx)(o,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},2407:(e,o,r)=>{r.d(o,{A:()=>n});const n=r.p+"assets/images/rviz_IMU-e15e93b9f732c24fcdd6342573d9b8c0.png"},2944:(e,o,r)=>{r.d(o,{A:()=>n});const n=r.p+"assets/images/rviz_TF2-dec71900cb1316d4f2455be7edcaf328.png"},4604:(e,o,r)=>{r.d(o,{A:()=>n});const n=r.p+"assets/images/motor_chart_topic-d6544f5966620bed6252bc036dcf4551.png"},6339:(e,o,r)=>{r.d(o,{A:()=>n});const n=r.p+"assets/images/TF_tree-b2bd3ced1c1cf68d8b668caed5005c69.png"},8453:(e,o,r)=>{r.d(o,{R:()=>t,x:()=>s});var n=r(6540);const a={},i=n.createContext(a);function t(e){const o=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function s(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),n.createElement(i.Provider,{value:o},e.children)}},9168:(e,o,r)=>{r.d(o,{A:()=>n});const n=r.p+"assets/images/rviz_TF-808f731f8a6e0a5f08cdf9d96404d174.png"},9605:(e,o,r)=>{r.d(o,{A:()=>n});const n=r.p+"assets/images/rviz_IMU2-cca8838b26116443a431b743db6bedce.png"}}]);