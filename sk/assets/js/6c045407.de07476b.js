"use strict";(self.webpackChunkfei_jetracer_docs=self.webpackChunkfei_jetracer_docs||[]).push([[46],{5807:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>u,frontMatter:()=>s,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"communication/communication","title":"Nastavenie komunik\xe1cie medzi viacer\xfdmi zariadeniami","description":"Po in\u0161tal\xe1cii Ubuntu VM na v\xe1\u0161 hostite\u013esk\xfd PC je \u010fal\u0161\xedm krokom konfigur\xe1cia komunik\xe1cie medzi viacer\xfdmi zariadeniami - medzi va\u0161im hostite\u013esk\xfdm VM a Jetson Nano. To umo\u017e\u0148uje v\xe1\u0161mu v\xfdvojov\xe9mu po\u010d\xedta\u010du dia\u013ekovo komunikova\u0165 s JetRacerom.","source":"@site/i18n/sk/docusaurus-plugin-content-docs/current/communication/communication.md","sourceDirName":"communication","slug":"/communication/","permalink":"/FEI_jetracer/sk/docs/communication/","draft":false,"unlisted":false,"editUrl":"https://github.com/peter115342/FEI_jetracer/tree/main/fei-jetracer-docs/docs/communication/communication.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"In\u0161tal\xe1cia Ubuntu virtu\xe1lneho stroja na hostite\u013eskom PC","permalink":"/FEI_jetracer/sk/docs/installation/installation_host"},"next":{"title":"Ovl\xe1danie pohybu robota","permalink":"/FEI_jetracer/sk/docs/movement-control/movement_control"}}');var o=i(4848),r=i(8453);const s={sidebar_position:5},t="Nastavenie komunik\xe1cie medzi viacer\xfdmi zariadeniami",l={},c=[{value:"Preh\u013ead",id:"preh\u013ead",level:2},{value:"Predpoklady",id:"predpoklady",level:2},{value:"Krok 1: Zistenie IP adries",id:"krok-1-zistenie-ip-adries",level:2},{value:"Na Jetson Nano:",id:"na-jetson-nano",level:3},{value:"Na Ubuntu VM:",id:"na-ubuntu-vm",level:3},{value:"Krok 2: Konfigur\xe1cia s\xfaboru hosts na oboch zariadeniach",id:"krok-2-konfigur\xe1cia-s\xfaboru-hosts-na-oboch-zariadeniach",level:2},{value:"Na Jetson Nano:",id:"na-jetson-nano-1",level:3},{value:"Na Ubuntu VM:",id:"na-ubuntu-vm-1",level:3},{value:"Krok 3: Konfigur\xe1cia premenn\xfdch prostredia ROS",id:"krok-3-konfigur\xe1cia-premenn\xfdch-prostredia-ros",level:2},{value:"Na Jetson Nano (ROS Master):",id:"na-jetson-nano-ros-master",level:3},{value:"Na Ubuntu VM:",id:"na-ubuntu-vm-2",level:3},{value:"Krok 4: Test komunik\xe1cie",id:"krok-4-test-komunik\xe1cie",level:2},{value:"Na Jetson Nano:",id:"na-jetson-nano-2",level:3},{value:"Na Ubuntu VM:",id:"na-ubuntu-vm-3",level:3},{value:"Krok 5: Spustenie testovacieho pr\xedkladu",id:"krok-5-spustenie-testovacieho-pr\xedkladu",level:2},{value:"Na Jetson Nano:",id:"na-jetson-nano-3",level:3},{value:"Na Ubuntu VM:",id:"na-ubuntu-vm-4",level:3},{value:"Rie\u0161enie probl\xe9mov",id:"rie\u0161enie-probl\xe9mov",level:2},{value:"Nie je mo\u017en\xe9 pripoji\u0165 sa k ROS Master",id:"nie-je-mo\u017en\xe9-pripoji\u0165-sa-k-ros-master",level:3},{value:"\u010casov\xe9 limity pripojenia",id:"\u010dasov\xe9-limity-pripojenia",level:3},{value:"Referencie",id:"referencie",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"nastavenie-komunik\xe1cie-medzi-viacer\xfdmi-zariadeniami",children:"Nastavenie komunik\xe1cie medzi viacer\xfdmi zariadeniami"})}),"\n",(0,o.jsxs)(n.p,{children:["Po ",(0,o.jsx)(n.a,{href:"/docs/installation/installation_host",children:"in\u0161tal\xe1cii Ubuntu VM na v\xe1\u0161 hostite\u013esk\xfd PC"})," je \u010fal\u0161\xedm krokom konfigur\xe1cia komunik\xe1cie medzi viacer\xfdmi zariadeniami - medzi va\u0161im hostite\u013esk\xfdm VM a Jetson Nano. To umo\u017e\u0148uje v\xe1\u0161mu v\xfdvojov\xe9mu po\u010d\xedta\u010du dia\u013ekovo komunikova\u0165 s JetRacerom."]}),"\n",(0,o.jsx)(n.h2,{id:"preh\u013ead",children:"Preh\u013ead"}),"\n",(0,o.jsx)(n.p,{children:"ROS (Robot Operating System) je navrhnut\xfd tak, aby fungoval naprie\u010d viacer\xfdmi zariadeniami, \u010do v\xe1m umo\u017e\u0148uje:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Sp\xfa\u0161\u0165a\u0165 v\xfdpo\u010dtovo n\xe1ro\u010dn\xe9 oper\xe1cie na va\u0161om v\xfdkonnej\u0161om hostite\u013eskom PC"}),"\n",(0,o.jsx)(n.li,{children:"Dia\u013ekovo ovl\xe1da\u0165 JetRacer"}),"\n",(0,o.jsx)(n.li,{children:"Vizualizova\u0165 \xfadaje zo senzorov a ladiace inform\xe1cie na va\u0161om v\xfdvojovom po\u010d\xedta\u010di"}),"\n",(0,o.jsx)(n.li,{children:"Bezprobl\xe9movo nasadzova\u0165 k\xf3d medzi v\xfdvojov\xfdm a robotick\xfdm prostred\xedm"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"V tomto n\xe1vode sa nau\u010d\xedte:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Konfigurova\u0165 sie\u0165ov\xe9 nastavenia na oboch zariadeniach"}),"\n",(0,o.jsx)(n.li,{children:"Nastavi\u0165 premenn\xe9 prostredia ROS"}),"\n",(0,o.jsx)(n.li,{children:"Otestova\u0165 komunik\xe1ciu medzi viacer\xfdmi zariadeniami"}),"\n",(0,o.jsx)(n.li,{children:"Rie\u0161i\u0165 be\u017en\xe9 probl\xe9my"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"predpoklady",children:"Predpoklady"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Jetson Nano s nain\u0161talovan\xfdm ROS a pripojen\xfd k va\u0161ej sieti"}),"\n",(0,o.jsx)(n.li,{children:"Ubuntu VM be\u017eiace na va\u0161om hostite\u013eskom PC"}),"\n",(0,o.jsx)(n.li,{children:"Obe zariadenia pripojen\xe9 k rovnakej sieti"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"krok-1-zistenie-ip-adries",children:"Krok 1: Zistenie IP adries"}),"\n",(0,o.jsx)(n.p,{children:"Najprv potrebujete pozna\u0165 IP adresy oboch zariaden\xed:"}),"\n",(0,o.jsx)(n.h3,{id:"na-jetson-nano",children:"Na Jetson Nano:"}),"\n",(0,o.jsxs)(n.p,{children:["Pozrite sa na OLED displej z\xe1kladnej dosky, kde uvid\xedte IP adresu (napr. ",(0,o.jsx)(n.code,{children:"192.168.1.100"}),")."]}),"\n",(0,o.jsx)(n.h3,{id:"na-ubuntu-vm",children:"Na Ubuntu VM:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"ifconfig\n"})}),"\n",(0,o.jsxs)(n.p,{children:["H\u013eadajte rozhranie ",(0,o.jsx)(n.code,{children:"ens33"})," alebo podobn\xe9 a poznamenajte si IP adresu (napr. ",(0,o.jsx)(n.code,{children:"192.168.1.200"}),")."]}),"\n",(0,o.jsx)(n.h2,{id:"krok-2-konfigur\xe1cia-s\xfaboru-hosts-na-oboch-zariadeniach",children:"Krok 2: Konfigur\xe1cia s\xfaboru hosts na oboch zariadeniach"}),"\n",(0,o.jsx)(n.p,{children:"Na oboch zariadeniach budete musie\u0165 upravi\u0165 s\xfabor hosts, aby ste umo\u017enili rozl\xed\u0161enie hostite\u013esk\xfdch mien:"}),"\n",(0,o.jsx)(n.h3,{id:"na-jetson-nano-1",children:"Na Jetson Nano:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo nano /etc/hosts\n"})}),"\n",(0,o.jsx)(n.p,{children:"Pridajte nasleduj\xface riadky:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"127.0.0.1       localhost\n127.0.1.1       jetson\n192.168.1.100   jetson    # IP adresa v\xe1\u0161ho Jetson Nano\n192.168.1.200   ubuntu    # IP adresa va\u0161ej Ubuntu VM\n"})}),"\n",(0,o.jsx)(n.p,{children:"Ulo\u017ete a ukon\u010dite (Ctrl+X, potom Y, potom Enter)."}),"\n",(0,o.jsx)(n.h3,{id:"na-ubuntu-vm-1",children:"Na Ubuntu VM:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo nano /etc/hosts\n"})}),"\n",(0,o.jsx)(n.p,{children:"Pridajte nasleduj\xface riadky:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"127.0.0.1       localhost\n127.0.1.1       ubuntu\n192.168.1.100   jetson    # IP adresa v\xe1\u0161ho Jetson Nano\n192.168.1.200   ubuntu    # IP adresa va\u0161ej Ubuntu VM\n"})}),"\n",(0,o.jsx)(n.p,{children:"Ulo\u017ete a ukon\u010dite."}),"\n",(0,o.jsx)(n.h2,{id:"krok-3-konfigur\xe1cia-premenn\xfdch-prostredia-ros",children:"Krok 3: Konfigur\xe1cia premenn\xfdch prostredia ROS"}),"\n",(0,o.jsx)(n.p,{children:"ROS potrebuje vedie\u0165, ktor\xe9 zariadenie je master a ako komunikova\u0165 medzi zariadeniami:"}),"\n",(0,o.jsx)(n.h3,{id:"na-jetson-nano-ros-master",children:"Na Jetson Nano (ROS Master):"}),"\n",(0,o.jsxs)(n.p,{children:["Upravte s\xfabor ",(0,o.jsx)(n.code,{children:".bashrc"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"nano ~/.bashrc\n"})}),"\n",(0,o.jsx)(n.p,{children:"Pridajte tieto riadky na koniec:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"export ROS_MASTER_URI=http://jetson:11311\nexport ROS_HOSTNAME=jetson\n"})}),"\n",(0,o.jsx)(n.p,{children:"Aplikujte zmeny:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"source ~/.bashrc\n"})}),"\n",(0,o.jsx)(n.h3,{id:"na-ubuntu-vm-2",children:"Na Ubuntu VM:"}),"\n",(0,o.jsxs)(n.p,{children:["Upravte s\xfabor ",(0,o.jsx)(n.code,{children:".bashrc"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"nano ~/.bashrc\n"})}),"\n",(0,o.jsx)(n.p,{children:"Pridajte tieto riadky na koniec:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"export ROS_MASTER_URI=http://jetson:11311\nexport ROS_HOSTNAME=ubuntu\n"})}),"\n",(0,o.jsx)(n.p,{children:"Aplikujte zmeny:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"source ~/.bashrc\n"})}),"\n",(0,o.jsx)(n.h2,{id:"krok-4-test-komunik\xe1cie",children:"Krok 4: Test komunik\xe1cie"}),"\n",(0,o.jsx)(n.p,{children:"Teraz otestujeme, \u010di komunik\xe1cia medzi viacer\xfdmi zariadeniami funguje:"}),"\n",(0,o.jsx)(n.h3,{id:"na-jetson-nano-2",children:"Na Jetson Nano:"}),"\n",(0,o.jsx)(n.p,{children:"Spustite ROS master:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"roscore\n"})}),"\n",(0,o.jsx)(n.h3,{id:"na-ubuntu-vm-3",children:"Na Ubuntu VM:"}),"\n",(0,o.jsx)(n.p,{children:"Skontrolujte, \u010di vid\xedte ROS master:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"rostopic list\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Ak vid\xedte zoznam t\xe9m (aj keby to bolo len ",(0,o.jsx)(n.code,{children:"/rosout"})," a ",(0,o.jsx)(n.code,{children:"/rosout_agg"}),"), komunik\xe1cia funguje!"]}),"\n",(0,o.jsx)(n.h2,{id:"krok-5-spustenie-testovacieho-pr\xedkladu",children:"Krok 5: Spustenie testovacieho pr\xedkladu"}),"\n",(0,o.jsx)(n.p,{children:"Spustime jednoduch\xfd pr\xedklad publisher/subscriber na overenie komunik\xe1cie:"}),"\n",(0,o.jsx)(n.h3,{id:"na-jetson-nano-3",children:"Na Jetson Nano:"}),"\n",(0,o.jsx)(n.p,{children:"Spustite pr\xedklad prij\xedmacieho uzla:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"rosrun rospy_tutorials listener\n"})}),"\n",(0,o.jsx)(n.h3,{id:"na-ubuntu-vm-4",children:"Na Ubuntu VM:"}),"\n",(0,o.jsx)(n.p,{children:"Spustite pr\xedklad publikuj\xfaceho uzla:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"rosrun rospy_tutorials talker\n"})}),"\n",(0,o.jsx)(n.p,{children:'Mali by ste vidie\u0165 spr\xe1vy "hello world", ktor\xe9 sa opakovane zobrazuj\xfa na strane Jetsonu.'}),"\n",(0,o.jsx)(n.h2,{id:"rie\u0161enie-probl\xe9mov",children:"Rie\u0161enie probl\xe9mov"}),"\n",(0,o.jsx)(n.h3,{id:"nie-je-mo\u017en\xe9-pripoji\u0165-sa-k-ros-master",children:"Nie je mo\u017en\xe9 pripoji\u0165 sa k ROS Master"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Overte, \u010di sa zariadenia navz\xe1jom pinguj\xfa:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"ping jetson  # Z Ubuntu VM\nping ubuntu  # Z Jetson Nano\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Overte premenn\xe9 prostredia ROS:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"echo $ROS_MASTER_URI\necho $ROS_HOSTNAME\n"})}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"\u010dasov\xe9-limity-pripojenia",children:"\u010casov\xe9 limity pripojenia"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Uistite sa, \u017ee obe zariadenia s\xfa v rovnakej sieti"}),"\n",(0,o.jsx)(n.li,{children:"Skontrolujte, \u010di sa nezmenili IP adresy (be\u017en\xe9 pri DHCP)"}),"\n",(0,o.jsx)(n.li,{children:"Aktualizujte s\xfabor hosts, ak sa IP adresy zmenili"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"referencie",children:"Referencie"}),"\n",(0,o.jsxs)(n.p,{children:["Pre podrobnej\u0161ie in\u0161trukcie si pozrite ",(0,o.jsx)(n.a,{href:"https://www.waveshare.com/wiki/JetRacer_ROS_AI_Kit_Tutorial_IV%3A_Configure_Multi-machine_Communication",children:"ofici\xe1lny n\xe1vod Waveshare JetRacer ROS AI Kit Tutorial IV"}),"."]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>t});var a=i(6540);const o={},r=a.createContext(o);function s(e){const n=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);