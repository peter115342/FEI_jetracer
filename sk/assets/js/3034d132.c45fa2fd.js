"use strict";(self.webpackChunkfei_jetracer_docs=self.webpackChunkfei_jetracer_docs||[]).push([[873],{7983:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>t,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"movement-control/movement_control","title":"Ovl\xe1danie pohybu robota","description":"Krok 1: Pridanie pou\u017e\xedvate\u013eskej skupiny pre s\xe9riov\xfd port","source":"@site/i18n/sk/docusaurus-plugin-content-docs/current/movement-control/movement_control.md","sourceDirName":"movement-control","slug":"/movement-control/movement_control","permalink":"/FEI_jetracer/sk/docs/movement-control/movement_control","draft":false,"unlisted":false,"editUrl":"https://github.com/peter115342/FEI_jetracer/tree/main/fei-jetracer-docs/docs/movement-control/movement_control.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"Nastavenie komunik\xe1cie medzi viacer\xfdmi zariadeniami","permalink":"/FEI_jetracer/sk/docs/communication/"},"next":{"title":"Zobrazenie t\xe9m uzlov pomocou ROS","permalink":"/FEI_jetracer/sk/docs/node-topics/node_topics"}}');var r=n(4848),i=n(8453);const t={sidebar_position:6},s="Ovl\xe1danie pohybu robota",l={},d=[{value:"Krok 1: Pridanie pou\u017e\xedvate\u013eskej skupiny pre s\xe9riov\xfd port",id:"krok-1-pridanie-pou\u017e\xedvate\u013eskej-skupiny-pre-s\xe9riov\xfd-port",level:2},{value:"Krok 2: Spustenie uzla na ovl\xe1danie podvozku robota",id:"krok-2-spustenie-uzla-na-ovl\xe1danie-podvozku-robota",level:2},{value:"Krok 3: Spustenie publikovania t\xe9my pre ovl\xe1danie",id:"krok-3-spustenie-publikovania-t\xe9my-pre-ovl\xe1danie",level:2},{value:"Krok 4: Ovl\xe1danie pohybu robota kl\xe1vesnicou",id:"krok-4-ovl\xe1danie-pohybu-robota-kl\xe1vesnicou",level:2},{value:"Krok 5: Pripojenie virtu\xe1lneho stroja k ovl\xe1daniu gamepadom",id:"krok-5-pripojenie-virtu\xe1lneho-stroja-k-ovl\xe1daniu-gamepadom",level:2},{value:"Rie\u0161enie probl\xe9mov",id:"rie\u0161enie-probl\xe9mov",level:2},{value:"Robot sa nepohybuje",id:"robot-sa-nepohybuje",level:3},{value:"Gamepad nie je rozpoznan\xfd",id:"gamepad-nie-je-rozpoznan\xfd",level:3},{value:"Referencie",id:"referencie",level:2}];function u(e){const o={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.header,{children:(0,r.jsx)(o.h1,{id:"ovl\xe1danie-pohybu-robota",children:"Ovl\xe1danie pohybu robota"})}),"\n",(0,r.jsx)(o.h2,{id:"krok-1-pridanie-pou\u017e\xedvate\u013eskej-skupiny-pre-s\xe9riov\xfd-port",children:"Krok 1: Pridanie pou\u017e\xedvate\u013eskej skupiny pre s\xe9riov\xfd port"}),"\n",(0,r.jsx)(o.p,{children:"Zadajte pr\xedkaz ls /dev v Jetson Nano na kontrolu, \u010di je ovl\xe1dacia doska spr\xe1vne pripojen\xe1 k Jetsonu a \u010di sa na\u0161li zariadenia ttyACM0 a ttyACM1 \u3010kde ttyACM0 sa pou\u017e\xedva na komunik\xe1ciu s mikrokontrol\xe9rom a ttyACM1 sa pou\u017e\xedva na komunik\xe1ciu s radarom\u3011."}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-bash",children:"ls /dev\n"})}),"\n",(0,r.jsx)(o.p,{children:"Zadajte nasleduj\xfaci pr\xedkaz na pridanie pou\u017e\xedvate\u013eskej skupiny pre s\xe9riov\xfd port, inak nebudete ma\u0165 opr\xe1vnenie na ovl\xe1danie s\xe9riov\xe9ho portu. Pri pou\u017eit\xed nakonfigurovan\xe9ho syst\xe9mu boli u\u017e povolenia pridan\xe9, tak\u017ee tento krok m\xf4\u017eete presko\u010di\u0165."}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-bash",children:"ls -l /dev/ttyACM*             #Zobrazenie pou\u017e\xedvate\u013eskej skupiny s\xe9riov\xe9ho portu ako dialout\nid -Gn                         #Zobrazenie pou\u017e\xedvate\u013eskej skupiny, do ktorej patr\xed aktu\xe1lny pou\u017e\xedvate\u013e, prv\xe1 je aktu\xe1lny pou\u017e\xedvate\u013e\nsudo adduser jetbot dialout    #Pridanie aktu\xe1lneho pou\u017e\xedvate\u013ea do pou\u017e\xedvate\u013eskej skupiny dialout, kde sa nach\xe1dza s\xe9riov\xfd port\n"})}),"\n",(0,r.jsx)(o.p,{children:'Zadajte pr\xedkaz "sudo reboot" na re\u0161tartovanie, heslo je jetson \u3010Pozn\xe1mka: Vy\u0161\u0161ie uveden\xfd pr\xedkaz na pridanie nadobudne \xfa\u010dinnos\u0165 a\u017e po re\u0161tartovan\xed, a ke\u010f nie je k dispoz\xedcii povolenie s\xe9riov\xe9ho portu, uzol podvozku robota bude po spusten\xed st\xe1le hl\xe1si\u0165 chybu\u3011.'}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-bash",children:"sudo reboot\n"})}),"\n",(0,r.jsx)(o.h2,{id:"krok-2-spustenie-uzla-na-ovl\xe1danie-podvozku-robota",children:"Krok 2: Spustenie uzla na ovl\xe1danie podvozku robota"}),"\n",(0,r.jsx)(o.p,{children:"Pripojte sa cez SSH k robotovi, otvorte termin\xe1l a zadajte nasleduj\xfaci pr\xedkaz na spustenie hlavn\xe9ho uzla robota."}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-bash",children:"roscore\n"})}),"\n",(0,r.jsx)(o.p,{children:"Nasleduj\xfaci pr\xedkaz roslaunch tie\u017e automaticky spust\xed hlavn\xfd uzol, ale \xfa\u010delom samostatn\xe9ho spustenia hlavn\xe9ho uzla je udr\u017ea\u0165 trval\xe9 pripojenie k virtu\xe1lke. V opa\u010dnom pr\xedpade sa hlavn\xfd uzol automaticky zatvor\xed, ke\u010f sa zatvor\xed uzol podvozku, \u010do sp\xf4sob\xed odpojenie virtu\xe1lneho stroja.\nZadajte nasleduj\xfaci pr\xedkaz na spustenie uzla podvozku robota."}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-bash",children:"roslaunch jetracer jetracer.launch\n"})}),"\n",(0,r.jsx)(o.p,{children:"Otvorte termin\xe1l virtu\xe1lneho stroja Ubuntu a zadajte nasleduj\xfaci pr\xedkaz do termin\xe1lu na overenie, \u010di je viac-po\u010d\xedta\u010dov\xe1 komunik\xe1cia norm\xe1lna."}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-bash",children:"rostopic list\n"})}),"\n",(0,r.jsx)(o.p,{children:"Ak je toto obsah, ktor\xfd z\xedskate po spusten\xed pr\xedkazu, znamen\xe1 to, \u017ee komunik\xe1cia medzi zariadeniami je \xfaspe\u0161n\xe1:"}),"\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsx)(o.li,{children:"/cmd_vel je t\xe9ma o pohybe robota a je ovl\xe1dan\xe1 robotom."}),"\n",(0,r.jsx)(o.li,{children:"/imu je t\xe9ma IMU robota."}),"\n",(0,r.jsx)(o.li,{children:"/motor/* indikuje skuto\u010dn\xfa k\xf3dovan\xfa r\xfdchlos\u0165 a nastaven\xfa r\xfdchlos\u0165 \u013eav\xe9ho a prav\xe9ho motora."}),"\n",(0,r.jsx)(o.li,{children:"/odom k\xf3duje odometer pre robota."}),"\n",(0,r.jsx)(o.li,{children:"/odom_combined je f\xfazny odometer robota, ktor\xfd sa z\xedskava kombin\xe1ciou k\xf3dovan\xe9ho odometra s \xfadajmi IMU."}),"\n"]}),"\n",(0,r.jsx)(o.h2,{id:"krok-3-spustenie-publikovania-t\xe9my-pre-ovl\xe1danie",children:"Krok 3: Spustenie publikovania t\xe9my pre ovl\xe1danie"}),"\n",(0,r.jsx)(o.p,{children:"M\xf4\u017eete publikova\u0165 t\xe9my prostredn\xedctvom virtu\xe1lneho stroja Ubuntu na ovl\xe1danie pohybu robota."}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-bash",children:"rosrun rqt_publisher rqt_publisher\n"})}),"\n",(0,r.jsx)(o.p,{children:'V kontextovom okne vyberte t\xe9mu /cmd_vel a kliknite na "+" na vytvorenie novej t\xe9my. /cmd_vel je t\xe9ma na ovl\xe1danie pohybu robota, linear->x ozna\u010duje line\xe1rnu r\xfdchlos\u0165 robota s rozsahom -1,2m/s a\u017e 1,2m/s, angular->z predstavuje uhol nato\u010denia prednej pneumatiky robota, nie uhlov\xfa r\xfdchlos\u0165, s rozsahom od -0,6 radi\xe1nov do 0,6 radi\xe1nov.\nZme\u0148te hodnotu linear.x na 0,5, kliknite prav\xfdm tla\u010didlom my\u0161i a vyberte publish selected Once na publikovanie t\xe9my. Robot sa posunie dopredu o 0,5 metra a potom sa zastav\xed. Ak zmen\xedte linear.x na 0 a angular.z na 0,6, robot sa oto\u010d\xed do\u013eava s maxim\xe1lnym uhlom pohybu.'}),"\n",(0,r.jsx)(o.p,{children:"Pozn\xe1mka: T\xe9ma, ktor\xfa tu otv\xe1rame, je cmd_vel, vyberte typ Twist. Ak vyberiete in\xe9 t\xe9my, auto sa nemus\xed pohn\xfa\u0165."}),"\n",(0,r.jsx)(o.h2,{id:"krok-4-ovl\xe1danie-pohybu-robota-kl\xe1vesnicou",children:"Krok 4: Ovl\xe1danie pohybu robota kl\xe1vesnicou"}),"\n",(0,r.jsx)(o.p,{children:"Otvorte nov\xfd termin\xe1l, spustite uzol na ovl\xe1danie kl\xe1vesnicou na ovl\xe1danie pohybu robota pomocou kl\xe1vesnice."}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-bash",children:"roslaunch jetracer keyboard.launch\n"})}),"\n",(0,r.jsx)(o.p,{children:"Po \xfaspe\u0161nom spusten\xed sa zobraz\xed rozhranie zobrazuj\xface mapovanie ovl\xe1dac\xedch prvkov a pohyb robota m\xf4\u017eete ovl\xe1da\u0165 stl\xe1\u010dan\xedm kl\xe1vesnice."}),"\n",(0,r.jsx)(o.h2,{id:"krok-5-pripojenie-virtu\xe1lneho-stroja-k-ovl\xe1daniu-gamepadom",children:"Krok 5: Pripojenie virtu\xe1lneho stroja k ovl\xe1daniu gamepadom"}),"\n",(0,r.jsx)(o.p,{children:"Pripojte USB prij\xedma\u010d gamepadu k hostite\u013esk\xe9mu po\u010d\xedta\u010du. Zobraz\xed sa okno, vyberte Connect to Virtual Machine -> Ubuntu JetRacer"}),"\n",(0,r.jsx)(o.p,{children:"Spustite nasleduj\xfaci pr\xedkaz vo virtu\xe1lnom stroji na otestovanie, \u010di je gamepad pripojen\xfd norm\xe1lne (mali by ste vidie\u0165 vstupn\xe9 zariadenie js0)."}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-bash",children:"ls /dev/input/\n"})}),"\n",(0,r.jsx)(o.p,{children:"Otestujte vstup gamepadu pomocou nasleduj\xfaceho pr\xedkazu"}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-bash",children:"jstest /dev/input/js0\n"})}),"\n",(0,r.jsx)(o.p,{children:"Stla\u010dte r\xf4zne tla\u010didl\xe1 na gamepade a sledujte zmeny zodpovedaj\xfacich hodn\xf4t."}),"\n",(0,r.jsx)(o.p,{children:"Spustite uzol joysticku."}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-bash",children:"roslaunch jetracer joy.launch\n"})}),"\n",(0,r.jsx)(o.p,{children:"Zapnite gamepad, stla\u010dte tla\u010didlo HOME a rozsvieti sa \u010derven\xe9 svetlo, potom stla\u010dte a podr\u017ete tla\u010didlo L1 v \u013eavom hornom rohu a s\xfa\u010dasne ovl\xe1dajte \u013eav\xfd joystick do\u013eava a doprava na ovl\xe1danie nato\u010denia servomotorov robota a prav\xfd joystick hore a dole na ovl\xe1danie pohybu robota dopredu a dozadu. Po uvo\u013enen\xed tla\u010didla L1 sa robot zastav\xed."}),"\n",(0,r.jsx)(o.h2,{id:"rie\u0161enie-probl\xe9mov",children:"Rie\u0161enie probl\xe9mov"}),"\n",(0,r.jsx)(o.h3,{id:"robot-sa-nepohybuje",children:"Robot sa nepohybuje"}),"\n",(0,r.jsxs)(o.ol,{children:["\n",(0,r.jsx)(o.li,{children:"Overte, \u010di je bat\xe9ria nabit\xe1"}),"\n",(0,r.jsx)(o.li,{children:"Uistite sa, \u017ee riadiaci uzol be\u017e\xed na Jetson Nano"}),"\n",(0,r.jsx)(o.li,{children:"Skontrolujte, \u010di sa v termin\xe1li nezobrazuj\xfa chybov\xe9 hl\xe1senia"}),"\n"]}),"\n",(0,r.jsx)(o.h3,{id:"gamepad-nie-je-rozpoznan\xfd",children:"Gamepad nie je rozpoznan\xfd"}),"\n",(0,r.jsxs)(o.ol,{children:["\n",(0,r.jsx)(o.li,{children:"Overte, \u010di je gamepad spr\xe1vne pripojen\xfd k hostite\u013esk\xe9mu PC"}),"\n",(0,r.jsx)(o.li,{children:"Uistite sa, \u017ee VM m\xe1 pr\xedstup k USB zariadeniu"}),"\n",(0,r.jsx)(o.li,{children:"Skontrolujte, \u010di sa pou\u017e\xedva spr\xe1vne zariadenie joysticku (napr. /dev/input/js0)"}),"\n"]}),"\n",(0,r.jsx)(o.h2,{id:"referencie",children:"Referencie"}),"\n",(0,r.jsxs)(o.p,{children:["Pre podrobnej\u0161ie pokyny si pozrite ",(0,r.jsx)(o.a,{href:"https://www.waveshare.com/wiki/JetRacer_ROS_AI_Kit_Tutorial_V%3A_Robot_Movement_Control",children:"ofici\xe1lny n\xe1vod Waveshare JetRacer ROS AI Kit Tutorial V: Ovl\xe1danie pohybu robota"}),"."]})]})}function p(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,r.jsx)(o,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},8453:(e,o,n)=>{n.d(o,{R:()=>t,x:()=>s});var a=n(6540);const r={},i=a.createContext(r);function t(e){const o=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function s(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),a.createElement(i.Provider,{value:o},e.children)}}}]);